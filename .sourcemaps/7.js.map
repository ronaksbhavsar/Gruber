{"version":3,"sources":["../../src/pages/picture-upload/picture-upload.module.ts","../../src/pages/picture-upload/picture-upload.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n \n\nimport { PictureUploadPage } from './picture-upload';\n\n@NgModule({\n  declarations: [\n      PictureUploadPage,\n  ],\n  imports: [\n      IonicPageModule.forChild(PictureUploadPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n      PictureUploadPage\n  ]\n})\nexport class PictureUploadPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/picture-upload/picture-upload.module.ts","import { CameraProvider } from '../../providers/util/camera.provider';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, ActionSheetController, Platform, LoadingController, ViewController, NavParams } from 'ionic-angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { Sync } from '../../providers/sync/sync';\r\nimport { DataService } from '../../providers/data-service/data-service';\r\n\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-picture-upload',\r\n    templateUrl: 'picture-upload.html'\r\n})\r\nexport class PictureUploadPage {\r\n\r\n    tripData = {\r\n        \"t_tripId\": \"\",\r\n        \"td_docType\": \"\",\r\n        \"td_TripDocumentsId\": \"\",\r\n        \"tl_timelineId\": \"\",\r\n        \"tl_dtTimeEffective\": '',\r\n        \"d_description\": \"\"\r\n    }\r\n\r\n    deleteflag: boolean = true;\r\n    remarks: string = \"\";\r\n    uplodimage: string = \"\";\r\n    selecteImage: boolean = true;\r\n    selectedDocuments: any = {};\r\n    pageName: string;\r\n    placeholder = 'assets/img/upload-image.jpg';\r\n    chosenPicture: any = \"\";\r\n    documentImagesData: any = [];\r\n\r\n\r\n    constructor(\r\n        public navCtrl: NavController,\r\n        public actionsheetCtrl: ActionSheetController,\r\n        public cameraProvider: CameraProvider,\r\n        public platform: Platform,     \r\n        public loadingCtrl: LoadingController,\r\n        public viewCtrl: ViewController,\r\n        private navParams: NavParams,\r\n        public translate: TranslateService,\r\n        public sync: Sync,\r\n        public dataService: DataService\r\n    ) {\r\n        this.uplodimage = \"assets/img/open-camera.png\";\r\n        //this.translate.get('DOCUMENT_SCAN_BARCODE_SCANNED_MESSAGE').subscribe((value) => {\n        //    this.documentScannedMessageString = value;\n        //});\r\n\r\n        const loading = this.loadingCtrl.create();\r\n\r\n        this.tripData.t_tripId = this.navParams.get('t_tripId');\r\n        this.pageName = this.navParams.get('pageName');\r\n\r\n        if (this.pageName == \"PhotoUploadActivity\") {\r\n\r\n            this.tripData.td_docType = this.navParams.get('td_docType');\r\n\r\n        }\r\n        else if (this.pageName == \"ConfirmTimeLineActivity\") {\r\n\r\n            this.tripData.td_docType = this.navParams.get('a_documentTypeId');\r\n            this.tripData.tl_timelineId = this.navParams.get('tl_timelineId');\r\n            this.tripData.tl_dtTimeEffective = this.navParams.get('tl_dtTimeEffective');\r\n\r\n        } else {\r\n\r\n        }\r\n\r\n        this.dataService.getDocumentTypesByTripIdAndDocumentTypeId(this.tripData.t_tripId, this.tripData.td_docType)\r\n            .then((data) => {\r\n\r\n                if (data.tripDocumentId) {\r\n                    //alert('IF :'+JSON.stringify(data));\r\n                    // Document Type alredy available..\r\n                    this.tripData.td_TripDocumentsId = data.tripDocumentId;\r\n                    this.tripData.d_description = data.d_description;\r\n\r\n                    loading.dismiss();\r\n                } else {\r\n\r\n                    //alert('ELSE :' + JSON.stringify(data));\r\n                    // Document is not available. Need to Insert into Mob_tripDocuments table..\n                    let mob_tripDocument = {\n                        'td_tripId': this.tripData.t_tripId,\n                        'td_docType': this.tripData.td_docType,\n                        'td_datetime': new Date(),\n                        'td_required': false,\n                        //'tl_orderCompany': \"\",\n                        //'tl_orderYear': '',\n                        //'tl_orderBranch': \"\",\n                        'tl_orderNumber': 0,\n                        //'tl_orderStop': this.chosenPicture,\n                        //'tl_barcode': \"\",\n                        //'td_externalKey': \"\",\n                        //'td_nomeFile': this.createFileName(),\n                        'Deleted': false\n                    };\n\n                    this.sync.insertTableRow('Mob_tripDocuments', mob_tripDocument)\r\n                        .then((tripDocument) => {\r\n                            //alert(\"Mob_tripDocuments insert result : \" + JSON.stringify(tripDocument));\r\n                            //alert('Mob_tripDocuments Insert :' + JSON.stringify(tripDocument));\r\n\r\n                            this.tripData.td_TripDocumentsId = tripDocument.Id;\r\n                            loading.dismiss();\r\n                        });\r\n                }\r\n            });\r\n    }\r\n\r\n    goToOtherPage(pageName) {\r\n        this.navCtrl.push(pageName);\r\n    }\r\n\r\n    savePicture(pageName) {\r\n\r\n        const loading = this.loadingCtrl.create();\r\n\r\n\r\n        if (pageName == \"ConfirmTimeLineActivity\") {\r\n\r\n            this.tripData.tl_timelineId = this.navParams.get('tl_timelineId');\r\n            this.tripData.tl_dtTimeEffective = this.navParams.get('tl_dtTimeEffective');\r\n\r\n\r\n            loading.present();\r\n            if (this.tripData.tl_dtTimeEffective) {\r\n                let updateRecord = {\r\n                    \"id\": this.tripData.tl_timelineId,\r\n                    \"tl_dtTimeEffective\": this.tripData.tl_dtTimeEffective,\r\n                    \"tl_dtInsert\": new Date()\r\n                };\r\n                this.sync.updateTableRow('mob_tripTimeLine', updateRecord).then((result) => {\r\n                    for (let documentImage of this.documentImagesData) {\r\n                        this.sync.insertTableRow('mob_tripDocumentsImages', documentImage).then((result) => {\r\n\r\n                        });\r\n                    }\r\n                    loading.dismiss();\r\n                });\r\n            }\r\n\r\n\r\n            this.navCtrl.push('ActivityDetailsPage', { 'tripId': this.tripData.t_tripId });\r\n\r\n        }\r\n        else if (pageName == \"PhotoUploadActivity\") {\r\n\r\n            for (let documentImages of this.documentImagesData) {\r\n                loading.present();\r\n                this.sync.insertTableRow('mob_tripDocumentsImages', documentImages).then((result) => {\r\n                    loading.dismiss();\r\n                });\r\n            }\r\n            this.navCtrl.push('ActivityDetailsPage', { 'tripId': this.tripData.t_tripId });\r\n        }\r\n        else {\r\n\r\n        }\r\n    }\r\n\r\n    selectPicture(pageName) {\r\n\r\n        if (pageName == \"ConfirmTimeLineActivity\") {\r\n            let confirmData = {\r\n                'td_TripDocumentsId': this.tripData.td_TripDocumentsId,\r\n                'td_document': this.chosenPicture,\r\n                'td_note': this.remarks\r\n            };\r\n            //alert(\"confirmActivity \" + JSON.stringify(confirmData));\r\n            this.documentImagesData.push(confirmData);\r\n            this.uplodimage = \"assets/img/open-camera.png\";\r\n            this.selecteImage = true;\r\n            this.remarks = \"\";\r\n            this.deleteflag = true;\r\n        }\r\n        else if (pageName == \"PhotoUploadActivity\") {\r\n\r\n            let pictureData = {\r\n                'td_TripDocumentsId': this.tripData.td_TripDocumentsId,\r\n                'td_document': this.chosenPicture,\r\n                'td_note': this.remarks\r\n            };\r\n            //alert(\"photoActivity \" + JSON.stringify(pictureData));\r\n            this.documentImagesData.push(pictureData);\r\n            this.uplodimage = \"assets/img/open-camera.png\";\r\n            this.selecteImage = true;\r\n            this.remarks = \"\";\r\n            this.deleteflag = true;\r\n        }\r\n        else {\r\n\r\n        }\r\n\r\n    }\r\n\r\n    deleteDocument() {\r\n        //alert(\"called delete document \" + JSON.stringify(this.selectedDocuments));\r\n        this.documentImagesData.pop(this.selectedDocuments);\r\n        this.uplodimage = \"assets/img/open-camera.png\";\r\n        this.remarks = \"\";\r\n        this.deleteflag = true;\r\n    }\r\n\r\n    documentPreview(DocumentImages) {\r\n        //alert(\"called document preview\");\r\n        this.selectedDocuments = DocumentImages;\r\n        this.uplodimage = DocumentImages.td_document;\r\n        this.remarks = DocumentImages.remarks;\r\n        this.deleteflag = false;\r\n    }\r\n\r\n    changePicture() {\r\n\r\n        const actionsheet = this.actionsheetCtrl.create({\r\n            title: 'upload picture',\r\n            buttons: [\r\n                {\r\n                    text: 'camera',\r\n                    icon: !this.platform.is('ios') ? 'camera' : null,\r\n                    handler: () => {\r\n                        this.takePicture();\r\n                    }\r\n                },\r\n                {\r\n                    text: !this.platform.is('ios') ? 'gallery' : 'camera roll',\r\n                    icon: !this.platform.is('ios') ? 'image' : null,\r\n                    handler: () => {\r\n                        this.getPicture();\r\n                    }\r\n                },\r\n                {\r\n                    text: 'cancel',\r\n                    icon: !this.platform.is('ios') ? 'close' : null,\r\n                    role: 'destructive',\r\n                    handler: () => {\r\n                        console.log('the user has cancelled the interaction.');\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        return actionsheet.present();\r\n    }\r\n\r\n    takePicture() {\r\n        const loading = this.loadingCtrl.create();\r\n\r\n        loading.present();\r\n        return this.cameraProvider.getPictureFromCamera().then(picture => {\r\n            \r\n            if (picture) {\r\n\r\n                this.chosenPicture = 'data:image/jpeg;base64,' + picture;\r\n                this.selecteImage = false;\r\n                this.uplodimage = this.chosenPicture;\r\n                this.remarks = \"\";\r\n                this.deleteflag = true;\r\n            }\r\n            loading.dismiss();\r\n        }, error => {\r\n            alert(error);\r\n        });\r\n    }\r\n\r\n    getPicture() {\r\n        const loading = this.loadingCtrl.create();\r\n\r\n        loading.present();\r\n        return this.cameraProvider.getPictureFromPhotoLibrary().then(picture => {\r\n          \r\n\r\n            if (picture) {\r\n                this.chosenPicture = 'data:image/jpeg;base64,' + picture;\r\n                this.selecteImage = false;\r\n                this.uplodimage = this.chosenPicture;\r\n                this.remarks = \"\";\r\n                this.deleteflag = true;\r\n            }\r\n            loading.dismiss();\r\n        }, error => {\r\n            alert(error);\r\n        });\r\n    }\r\n\r\n    cancel() {\n        this.viewCtrl.dismiss();\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/picture-upload/picture-upload.ts"],"sourceRoot":""}